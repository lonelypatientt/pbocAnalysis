/*
 * Copyright (c) 2016 Skyon Technology Ltd.
 * All rights reserved.
 *
 * project: pbocAnalysis
 * create: 2016-11-18 上午10:22:54
 * cvs: $Id: $
 */
package com.caafc.pbocAnalysis.webService.test;

import java.io.FileOutputStream;
import java.util.List;

import org.apache.cxf.jaxws.JaxWsProxyFactoryBean;

import com.caafc.pbocAnalysis.dao.jdbc.DBPoolConnection;
import com.caafc.pbocAnalysis.dao.jdbc.DBQuery;
import com.caafc.pbocAnalysis.webService.pbocService.PbocRequest;
import com.caafc.pbocAnalysis.webService.pbocService.PbocResponse;
import com.caafc.pbocAnalysis.webService.pbocService.PbocService;

/**
 * TODO批量生产衍生变量
 * @author Administrator 
 * @version $Revision:$
 */
public class Test2 {

public static void main(String[] args) throws Exception {
	JaxWsProxyFactoryBean fa = new JaxWsProxyFactoryBean();
	fa.setServiceClass(PbocService.class);	// 审批
	
	fa.setAddress("http://localhost:8080/pbocAnalysis/PbocService");
	
	PbocService service = (PbocService) fa.create();
	PbocRequest pbocRequest = new PbocRequest();
	
//	pbocRequest.setPbocFilePath("/zxbg/zxbg/20161102/Card120104197207216010By151529032.a");//有逾期数据
//	pbocRequest.setPbocFilePath("/zxbg/zxbg/20161102/Card330424196309204033By173721811.a");//贷款呆账，余额大于0

	FileOutputStream out=new FileOutputStream("D://out.txt");
	
	String reportnos ="'2016071900003024042375',"
			+"'2016080300003064625163',"
			+"'2016080800003076503608',"
			+"'2016081600003098652574',"
			+"'2016082100003112889061',"
			+"'2016082300003121157155',"
			+"'2016082400003125595814',"
			+"'2016082400003125901533',"
			+"'2016082500003129035115',"
			+"'2016082500003129075478',"
			+"'2016082500003129768169',"
			+"'2016082500003129768611',"
			+"'2016082800003138105211',"
			+"'2016082800003138645599',"
			+"'2016082900003141518723',"
			+"'2016083000003144095509',"
			+"'2016083000003144482377',"
			+"'2016083000003145278473',"
			+"'2016083100003147344353',"
			+"'2016083100003147825257',"
			+"'2016083100003148149791',"
			+"'2016083100003148788685',"
			+"'2016090200003154229541',"
			+"'2016090200003155628524',"
			+"'2016090300003158084038',"
			+"'2016090300003158300718',"
			+"'2016090400003159522432',"
			+"'2016090400003159706458',"
			+"'2016090400003160125178',"
			+"'2016090500003162360988',"
			+"'2016090500003162456890',"
			+"'2016090500003163219279',"
			+"'2016090500003164026218',"
			+"'2016090500003164144342',"
			+"'2016090600003166405542',"
			+"'2016090600003167002477',"
			+"'2016090600003167963115',"
			+"'2016090600003168029221',"
			+"'2016090600003168234009',"
			+"'2016090700003170692535',"
			+"'2016090700003171441681',"
			+"'2016090700003171974756',"
			+"'2016090700003172169531',"
			+"'2016090800003173887728',"
			+"'2016090800003174036791',"
			+"'2016090800003174223106',"
			+"'2016090800003174283353',"
			+"'2016090800003174759054',"
			+"'2016090900003178112918',"
			+"'2016090900003178618306',"
			+"'2016091000003180381464',"
			+"'2016091000003180527781',"
			+"'2016091000003180577189',"
			+"'2016091000003180951608',"
			+"'2016091100003182279153',"
			+"'2016091100003182344687',"
			+"'2016091100003182372482',"
			+"'2016091100003182924513',"
			+"'2016091200003184606174',"
			+"'2016091200003184808932',"
			+"'2016091200003184879759',"
			+"'2016091200003185127128',"
			+"'2016091200003185131684',"
			+"'2016091200003185139034',"
			+"'2016091200003185141782',"
			+"'2016091200003185495789',"
			+"'2016091300003187378271',"
			+"'2016091300003188210392',"
			+"'2016091300003188633443',"
			+"'2016091300003188717834',"
			+"'2016091300003188852424',"
			+"'2016091300003188868974',"
			+"'2016091300003188931284',"
			+"'2016091300003188942881',"
			+"'2016091300003188998951',"
			+"'2016091300003189040977',"
			+"'2016091300003189284312',"
			+"'2016091300003189352102',"
			+"'2016091300003189352138',"
			+"'2016091300003189527955',"
			+"'2016091300003189676918',"
			+"'2016091300003189841072',"
			+"'2016091400003191336698',"
			+"'2016091400003191471007',"
			+"'2016091400003191476408',"
			+"'2016091400003191648439',"
			+"'2016091400003192434277',"
			+"'2016091400003192522419',"
			+"'2016091400003192679723',"
			+"'2016091400003192866820',"
			+"'2016091500003195092674',"
			+"'2016091500003195114717',"
			+"'2016091600003196791445',"
			+"'2016091600003197256732',"
			+"'2016091600003197298236',"
			+"'2016091700003198787986',"
			+"'2016091700003198881991',"
			+"'2016091700003198892633',"
			+"'2016091700003198954858',"
			+"'2016091700003199132095',"
			+"'2016091700003199151141',"
			+"'2016091700003199185094',"
			+"'2016091700003199204181',"
			+"'2016091700003199238113',"
			+"'2016091700003199273181',"
			+"'2016091700003199322866',"
			+"'2016091700003199331917',"
			+"'2016091800003200171474',"
			+"'2016091800003200244334',"
			+"'2016091800003200269022',"
			+"'2016091800003200348694',"
			+"'2016091800003200420066',"
			+"'2016091800003200427333',"
			+"'2016091800003200430523',"
			+"'2016091800003200479839',"
			+"'2016091800003200487324',"
			+"'2016091800003200583810',"
			+"'2016091800003200590529',"
			+"'2016091800003200685643',"
			+"'2016091800003200711700',"
			+"'2016091800003200741101',"
			+"'2016091800003200845146',"
			+"'2016091800003200846163',"
			+"'2016091800003201224964',"
			+"'2016091800003201283112',"
			+"'2016091800003201787952',"
			+"'2016091800003201844890',"
			+"'2016091800003201882102',"
			+"'2016091800003202014448',"
			+"'2016091900003203790637',"
			+"'2016091900003204019720',"
			+"'2016091900003204139660',"
			+"'2016091900003204253160',"
			+"'2016091900003204585122',"
			+"'2016091900003204588453',"
			+"'2016091900003204595005',"
			+"'2016091900003204838623',"
			+"'2016091900003204855569',"
			+"'2016091900003204936964',"
			+"'2016091900003204939288',"
			+"'2016091900003204953372',"
			+"'2016091900003205086003',"
			+"'2016091900003205144684',"
			+"'2016091900003205220908',"
			+"'2016091900003205291401',"
			+"'2016091900003205297844',"
			+"'2016091900003205399988',"
			+"'2016091900003205423484',"
			+"'2016091900003205468367',"
			+"'2016091900003205568722',"
			+"'2016091900003205594879',"
			+"'2016091900003205661961',"
			+"'2016091900003205851275',"
			+"'2016091900003205887500',"
			+"'2016092000003207379340',"
			+"'2016092000003207576738',"
			+"'2016092000003207577137',"
			+"'2016092000003207584294',"
			+"'2016092000003207833412',"
			+"'2016092000003207833592',"
			+"'2016092000003208131879',"
			+"'2016092000003208618093',"
			+"'2016092000003208795876',"
			+"'2016092000003208852909',"
			+"'2016092000003208891303',"
			+"'2016092000003209132663',"
			+"'2016092000003209261045',"
			+"'2016092000003209270964',"
			+"'2016092000003209372967',"
			+"'2016092000003209394250',"
			+"'2016092000003209399187',"
			+"'2016092000003209400897',"
			+"'2016092000003209406683',"
			+"'2016092000003209540750',"
			+"'2016092000003209678491',"
			+"'2016092000003209685796',"
			+"'2016092100003211602389',"
			+"'2016092100003211709511',"
			+"'2016092100003211768975',"
			+"'2016092100003211904092',"
			+"'2016092100003211908245',"
			+"'2016092100003211972403',"
			+"'2016092100003212182468',"
			+"'2016092100003212249539',"
			+"'2016092100003212254585',"
			+"'2016092100003212255809',"
			+"'2016092100003212419957',"
			+"'2016092100003212554877',"
			+"'2016092100003212596426',"
			+"'2016092100003212668258',"
			+"'2016092100003212707708',"
			+"'2016092100003212838859',"
			+"'2016092100003212920991',"
			+"'2016092100003212995977',"
			+"'2016092100003213303049',"
			+"'2016092100003213307386',"
			+"'2016092100003213322825',"
			+"'2016092100003213323057',"
			+"'2016092100003213380697',"
			+"'2016092100003213441392',"
			+"'2016092100003213579867',"
			+"'2016092100003213592451',"
			+"'2016092100003213621188',"
			+"'2016092100003213649864',"
			+"'2016092100003213680075',"
			+"'2016092100003213755879',"
			+"'2016092200003215582667',"
			+"'2016092200003215598310',"
			+"'2016092200003215637586',"
			+"'2016092200003215663201',"
			+"'2016092200003215755869',"
			+"'2016092200003215758851',"
			+"'2016092200003216243659',"
			+"'2016092200003216246972',"
			+"'2016092200003216384467',"
			+"'2016092200003216415485',"
			+"'2016092200003216563833',"
			+"'2016092200003216584670',"
			+"'2016092200003216703497',"
			+"'2016092200003216726398',"
			+"'2016092200003216770448',"
			+"'2016092200003216775159',"
			+"'2016092200003216879048',"
			+"'2016092200003216895610',"
			+"'2016092200003216959374',"
			+"'2016092200003216960181',"
			+"'2016092200003216982916',"
			+"'2016092200003217040865',"
			+"'2016092200003217081847',"
			+"'2016092200003217083812',"
			+"'2016092200003217114486',"
			+"'2016092200003217129297',"
			+"'2016092300003218827197',"
			+"'2016092300003218834448',"
			+"'2016092300003218978529',"
			+"'2016092300003219033945',"
			+"'2016092300003219131798',"
			+"'2016092300003219196013',"
			+"'2016092300003219356034',"
			+"'2016092300003219781993',"
			+"'2016092300003219834435',"
			+"'2016092300003219867793',"
			+"'2016092300003219872083',"
			+"'2016092300003219882826',"
			+"'2016092300003219885037',"
			+"'2016092300003219925059',"
			+"'2016092300003220101204',"
			+"'2016092300003220165390',"
			+"'2016092300003220232447',"
			+"'2016092300003220405628',"
			+"'2016092300003220438322',"
			+"'2016092300003220459401',"
			+"'2016092300003220521953',"
			+"'2016092400003221869757',"
			+"'2016092400003222765927',"
			+"'2016092400003222813296',"
			+"'2016092400003222936434',"
			+"'2016092400003222947328',"
			+"'2016092400003223028971',"
			+"'2016092400003223092758',"
			+"'2016092400003223115541',"
			+"'2016092400003223118702',"
			+"'2016092500003224290885',"
			+"'2016092500003224290901',"
			+"'2016092500003224389690',"
			+"'2016092500003224393181',"
			+"'2016092500003224397216',"
			+"'2016092500003224482055',"
			+"'2016092500003224511403',"
			+"'2016092500003224584169',"
			+"'2016092500003224648582',"
			+"'2016092500003224685095',"
			+"'2016092500003224691656',"
			+"'2016092500003224700539',"
			+"'2016092500003224703915',"
			+"'2016092500003224725559',"
			+"'2016092500003224752930',"
			+"'2016092500003224757604',"
			+"'2016092500003224764317',"
			+"'2016092500003224774250',"
			+"'2016092500003224800361',"
			+"'2016092500003224821834',"
			+"'2016092500003224823576',"
			+"'2016092500003224850968',"
			+"'2016092500003224881846',"
			+"'2016092500003224885552',"
			+"'2016092500003224891274',"
			+"'2016092500003224923766',"
			+"'2016092600003226016663',"
			+"'2016092600003226040721',"
			+"'2016092600003226118653',"
			+"'2016092600003226137299',"
			+"'2016092600003226143066',"
			+"'2016092600003226152933',"
			+"'2016092600003226162771',"
			+"'2016092600003226170516',"
			+"'2016092600003226194678',"
			+"'2016092600003226211944',"
			+"'2016092600003226246358',"
			+"'2016092600003226310585',"
			+"'2016092600003226393094',"
			+"'2016092600003226493360',"
			+"'2016092600003226517863',"
			+"'2016092600003226544145',"
			+"'2016092600003226558408',"
			+"'2016092600003226564627',"
			+"'2016092600003226611394',"
			+"'2016092600003226639324',"
			+"'2016092600003226706500',"
			+"'2016092600003226879682',"
			+"'2016092600003226908586',"
			+"'2016092600003227028168',"
			+"'2016092600003227040972',"
			+"'2016092600003227081925',"
			+"'2016092600003227083591',"
			+"'2016092600003227086900',"
			+"'2016092600003227093616',"
			+"'2016092600003227126441',"
			+"'2016092600003227159499',"
			+"'2016092600003227219020',"
			+"'2016092600003227250000',"
			+"'2016092600003227250976',"
			+"'2016092600003227277763',"
			+"'2016092600003227281699',"
			+"'2016092600003227301458',"
			+"'2016092600003227334549',"
			+"'2016092600003227368972',"
			+"'2016092600003227374392',"
			+"'2016092600003227379591',"
			+"'2016092600003227518651',"
			+"'2016092600003227618126',"
			+"'2016092600003227664268',"
			+"'2016092600003227688695',"
			+"'2016092600003227705139',"
			+"'2016092600003227788924',"
			+"'2016092600003227805661',"
			+"'2016092600003227808158',"
			+"'2016092600003227810195',"
			+"'2016092600003227814886',"
			+"'2016092600003227850356',"
			+"'2016092600003227851430',"
			+"'2016092600003227852585',"
			+"'2016092600003227977614',"
			+"'2016092600003227992242',"
			+"'2016092600003228009010',"
			+"'2016092600003228067444',"
			+"'2016092600003228080470',"
			+"'2016092600003228080518',"
			+"'2016092600003228085138',"
			+"'2016092600003228085359',"
			+"'2016092600003228088106',"
			+"'2016092600003228088255',"
			+"'2016092600003228090060',"
			+"'2016092600003228095801',"
			+"'2016092600003228103712',"
			+"'2016092600003228104723',"
			+"'2016092600003228108791',"
			+"'2016092600003228109206',"
			+"'2016092600003228129838',"
			+"'2016092600003228161545',"
			+"'2016092600003228163216',"
			+"'2016092600003228167539',"
			+"'2016092700003229880235',"
			+"'2016092700003229893078',"
			+"'2016092700003229912699',"
			+"'2016092700003229941395',"
			+"'2016092700003229948110',"
			+"'2016092700003229965067',"
			+"'2016092700003229968334',"
			+"'2016092700003229968660',"
			+"'2016092700003229982138',"
			+"'2016092700003230112519',"
			+"'2016092700003230189710',"
			+"'2016092700003230239045',"
			+"'2016092700003230403679',"
			+"'2016092700003230409282',"
			+"'2016092700003230414218',"
			+"'2016092700003230420965',"
			+"'2016092700003230422726',"
			+"'2016092700003230476356',"
			+"'2016092700003230482389',"
			+"'2016092700003230497300',"
			+"'2016092700003230507385',"
			+"'2016092700003230562622',"
			+"'2016092700003230596835',"
			+"'2016092700003230649843',"
			+"'2016092700003230747328',"
			+"'2016092700003230790368',"
			+"'2016092700003230792671',"
			+"'2016092700003230796607',"
			+"'2016092700003230798891',"
			+"'2016092700003230812814',"
			+"'2016092700003230985919',"
			+"'2016092700003230993787',"
			+"'2016092700003231006746',"
			+"'2016092700003231008414',"
			+"'2016092700003231016012',"
			+"'2016092700003231043724',"
			+"'2016092700003231169095',"
			+"'2016092700003231270094',"
			+"'2016092700003231317050',"
			+"'2016092700003231413567',"
			+"'2016092700003231561821',"
			+"'2016092700003231989367',"
			+"'2016092700003232006850',"
			+"'2016092800003233301700',"
			+"'2016092800003233877162',"
			+"'2016092800003234023112',"
			+"'2016092800003234273422',"
			+"'2016092800003234615178',"
			+"'2016092800003235250560',"
			+"'2016093000003241459052',"
			+"'2016100100003243304821',"
			+"'2016100100003243735433',"
			+"'2016100200003245027045'";
	
	List<String> pathList = DBQuery.getPathList(reportnos);
	String basePath = "/zxbg/zxbg/";
	for (String string : pathList) {
		String path = basePath+string;
		pbocRequest.setPbocFilePath(path);
		pbocRequest.setPbocHtmlPath("/home/dwinst/test/save");
		PbocResponse _return = service.pbocTarget(pbocRequest);
		
		System.out.println("报告编号>>>>>>: " + _return.getReportNo());
		System.out.println("结果编码>>>>>>: " + _return.getResultCode());
		System.out.println("结果信息>>>>>>: " + _return.getResultMessage());
		System.out.println("+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++");
		
		if(!"00000".equals(_return.getResultCode())){
			byte[] buff=new byte[]{};
			String aa=path+"---"+_return.getReportNo()+"\r\n";
	        buff=aa.getBytes();
	        out.write(buff,0,buff.length);
		}
	}
	out.close();
	System.out.println(pathList.size());


	
	/*System.out.println("报告编号>>>>>>: " + _return.getReportNo());
	System.out.println("结果编码>>>>>>: " + _return.getResultCode());
	System.out.println("结果信息>>>>>>: " + _return.getResultMessage());
	System.out.println("信用卡产品的最近6个月的平均额度使用率>>>>>>: " + _return.getCCardAvgLimitRate6M());
	System.out.println("最近6个月内信贷产品的最大逾期期数>>>>>>>>: " + _return.getCreditLoanMaxOverdue6M());
	System.out.println("最近12个月内信贷产品的最大逾期期数>>>>>>: " + _return.getCreditLoanMaxOverdue12M());
	System.out.println("最近24个月内信贷产品的最大逾期期数>>>>>>: " + _return.getCreditLoanMaxOverdue24M());
	System.out.println("所有信贷产品最大账龄>>>>>>: " + _return.getCreditLoanMaxZL());
	System.out.println("最近6个月内信贷产品累计逾期次数>>>>>>: " + _return.getCreditLoanOverdueNum6M());
	System.out.println("最近12个月内信贷产品累计逾期次数>>>>>>: " + _return.getCreditLoanOverdueNum12M());
	System.out.println("最近24个月内信贷产品累计逾期次数>>>>>>: " + _return.getCreditLoanOverdueNum24M());
	System.out.println("最近3个月信贷审批查询次数>>>>>>: " + _return.getCreditLoanQueryNum3M());
	System.out.println("最近6个月信贷审批查询次数>>>>>>: " + _return.getCreditLoanQueryNum6M());
	System.out.println("最近12个月信贷审批查询次数>>>>>>: " + _return.getCreditLoanQueryNum12M());
	System.out.println("申请人（征信报告）是否有征信>>>>>>: " + _return.getPbocReportFlag());
	System.out.println("申请人（征信报告）贷款当前逾期期数>>>>>>: " + _return.getLoanOverdueNum());
	System.out.println("申请人（征信报告）贷款状态>>>>>>: " + _return.getLoanStatus());
	System.out.println("申请人（征信报告）信用卡当期逾期期数>>>>>>: " + _return.getCCardOverdueNum());
	System.out.println("申请人（征信报告）信用卡状态>>>>>>: " + _return.getCCardStatus());
	System.out.println("申请人（征信报告）近24个月贷款最高逾期期数>>>>>>: " + _return.getLoanMaxOverdue24M());
	System.out.println("申请人（征信报告）近24个月贷款累计逾期期数>>>>>>: " + _return.getLoanSumOverdue24M());
	System.out.println("申请人（征信报告）近24个月信用卡最高逾期期数>>>>>>: " + _return.getCCardMaxOverdue24M());
	System.out.println("申请人（征信报告）近24个月信用卡累计逾期期数>>>>>>: " + _return.getCCardSumOverdue24M());
	System.out.println("申请人（征信报告）额度使用率超过80%的信用卡的张数>>>>>>: "+ _return.getCCardOut80Rate());
	System.out.println("申请人（征信报告）呆账信息汇总笔数>>>>>>: " + _return.getBadAccountNum());
	System.out.println("申请人（征信报告）资产处置信息汇总笔数>>>>>>: " + _return.getAssetDisposals());
	System.out.println("申请人（征信报告）是否存在强制执行记录>>>>>>: " + _return.getCourtExecutions());
	System.out.println("申请人（征信报告）是否存在行政处罚记录>>>>>>: " + _return.getApRecordFlag());
	System.out.println("准贷记卡>>>>>>: " + _return.getSemiCreditCard());
	System.out.println("贷款历史逾期比例>>>>>>: " + _return.getLoanHisOverdueRate());
	System.out.println("单张信用卡历史逾期比例>>>>>>: " + _return.getOneCcardHisOverdueRate());
	System.out.println("多张信用卡历史逾期比例>>>>>>: " + _return.getManyCcardHisOverdueRate());
	System.out.println("申请人（征信报告）贷款月负债>>>>>>: " + _return.getLoanMonthLiabilities());*/
	
}

}
